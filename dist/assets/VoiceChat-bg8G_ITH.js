import{j as e}from"./index-CtHWkoXC.js";import{r as c}from"./vendor-react-YsBxPMQB.js";import{s as x}from"./vendor-elevenlabs-D2RftqK-.js";import{X as m,a as h,P as f}from"./vendor-icons-INnbd17C.js";function j({isOpen:n,onClose:i}){const{status:t,isSpeaking:l,startSession:o,endSession:r}=x({agentId:"agent_0701k72hgm7se1gvm1db45vg23r1"}),[s,a]=c.useState("idle");c.useEffect(()=>{n?t==="disconnected"&&o({agentId:"agent_0701k72hgm7se1gvm1db45vg23r1",connectionType:"websocket"}):(t==="connected"&&r(),a("idle"))},[n,t,o,r]),c.useEffect(()=>{a(t==="connecting"?"connecting":t==="connected"?l?"speaking":"listening":"idle")},[t,l]);const d=()=>{r(),i()};return n?e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-off-white border-3 border-charcoal shadow-brutal-chat rounded-sm w-full max-w-sm max-h-[600px] flex flex-col overflow-hidden",children:[e.jsxs("div",{className:"bg-warm-beige border-b-3 border-charcoal p-4 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-black text-xl uppercase",children:"Voice Demo"}),e.jsxs("p",{className:"text-xs text-charcoal",children:[s==="idle"&&"Ready to start",s==="connecting"&&"Connecting...",s==="connected"&&"Connected",s==="speaking"&&"Agent Speaking",s==="listening"&&"Listening...",s==="error"&&"Connection Error"]})]}),e.jsx("button",{onClick:i,className:"w-8 h-8 flex items-center justify-center hover:bg-charcoal hover:text-off-white transition-colors rounded-sm border-2 border-charcoal","aria-label":"Close",children:e.jsx(m,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"flex-1 flex flex-col items-center justify-center p-6 space-y-6",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsxs("div",{className:"relative w-24 h-24 flex items-center justify-center",children:[s==="speaking"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"absolute inset-0 border-3 border-terracotta rounded-full animate-pulse"}),e.jsx("div",{className:"absolute inset-2 border-3 border-terracotta rounded-full animate-pulse",style:{animationDelay:"0.2s"}})]}),s==="listening"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"absolute inset-0 border-3 border-soft-sage rounded-full animate-pulse"}),e.jsx("div",{className:"absolute inset-2 border-3 border-soft-sage rounded-full animate-pulse",style:{animationDelay:"0.2s"}})]}),e.jsx("div",{className:`relative z-10 w-16 h-16 rounded-full border-3 border-charcoal flex items-center justify-center ${s==="speaking"?"bg-terracotta":s==="listening"?"bg-soft-sage":s==="connecting"?"bg-muted-taupe":s==="error"?"bg-peach":"bg-warm-beige"}`,children:s==="error"?e.jsx("span",{className:"text-2xl font-black",children:"!"}):e.jsx(h,{className:"w-8 h-8 text-charcoal"})})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:"font-black text-charcoal uppercase text-sm",children:[s==="idle"&&"Ready",s==="connecting"&&"Connecting...",s==="connected"&&"Connected - Speak Now",s==="speaking"&&"Agent Speaking",s==="listening"&&"Listening to You",s==="error"&&"Connection Error"]}),e.jsxs("p",{className:"text-xs text-charcoal mt-1",children:[s==="listening"&&"Your microphone is active",s==="speaking"&&"The agent is speaking"]})]})]})}),e.jsx("div",{className:"border-t-3 border-charcoal bg-off-white p-4 flex gap-3",children:e.jsxs("button",{onClick:d,className:"w-full bg-peach text-charcoal px-4 py-3 border-3 border-charcoal shadow-brutal-xs font-black uppercase text-sm hover:-translate-x-[1px] hover:-translate-y-[1px] hover:shadow-brutal-sm transition-all duration-200 flex items-center justify-center gap-2 rounded-sm",children:[e.jsx(f,{className:"w-4 h-4"}),e.jsx("span",{children:"End Call"})]})})]})}):null}export{j as VoiceChat};
//# sourceMappingURL=VoiceChat-bg8G_ITH.js.map
