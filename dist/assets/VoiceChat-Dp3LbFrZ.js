import{C as e,j as s}from"./index-CKoJYvc1.js";import{r as t}from"./vendor-react-9fiDQRhm.js";import{s as a}from"./vendor-elevenlabs-C66rJK5d.js";import{X as n,a as r,P as c}from"./vendor-icons-DDcCaDA3.js";function l({isOpen:l,onClose:i}){const{status:o,isSpeaking:d,startSession:x,endSession:m}=a({agentId:e.ELEVENLABS_AGENT_ID}),[h,b]=t.useState("idle");t.useEffect(()=>{l?"disconnected"===o&&x({agentId:e.ELEVENLABS_AGENT_ID,connectionType:"websocket"}):("connected"===o&&m(),b("idle"))},[l,o,x,m]),t.useEffect(()=>{b("connecting"===o?"connecting":"connected"===o?d?"speaking":"listening":"idle")},[o,d]);return l?s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-off-white border-3 border-charcoal shadow-brutal-chat rounded-sm w-full max-w-sm max-h-[600px] flex flex-col overflow-hidden",children:[s.jsxs("div",{className:"bg-warm-beige border-b-3 border-charcoal p-4 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-black text-xl uppercase",children:"Voice Demo"}),s.jsxs("p",{className:"text-xs text-charcoal",children:["idle"===h&&"Ready to start","connecting"===h&&"Connecting...","connected"===h&&"Connected","speaking"===h&&"Agent Speaking","listening"===h&&"Listening...","error"===h&&"Connection Error"]})]}),s.jsx("button",{onClick:i,className:"w-8 h-8 flex items-center justify-center hover:bg-charcoal hover:text-off-white transition-colors rounded-sm border-2 border-charcoal","aria-label":"Close",children:s.jsx(n,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"flex-1 flex flex-col items-center justify-center p-6 space-y-6",children:s.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[s.jsxs("div",{className:"relative w-24 h-24 flex items-center justify-center",children:["speaking"===h&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"absolute inset-0 border-3 border-terracotta rounded-full animate-pulse"}),s.jsx("div",{className:"absolute inset-2 border-3 border-terracotta rounded-full animate-pulse",style:{animationDelay:"0.2s"}})]}),"listening"===h&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"absolute inset-0 border-3 border-soft-sage rounded-full animate-pulse"}),s.jsx("div",{className:"absolute inset-2 border-3 border-soft-sage rounded-full animate-pulse",style:{animationDelay:"0.2s"}})]}),s.jsx("div",{className:"relative z-10 w-16 h-16 rounded-full border-3 border-charcoal flex items-center justify-center "+("speaking"===h?"bg-terracotta":"listening"===h?"bg-soft-sage":"connecting"===h?"bg-muted-taupe":"error"===h?"bg-peach":"bg-warm-beige"),children:"error"===h?s.jsx("span",{className:"text-2xl font-black",children:"!"}):s.jsx(r,{className:"w-8 h-8 text-charcoal"})})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("p",{className:"font-black text-charcoal uppercase text-sm",children:["idle"===h&&"Ready","connecting"===h&&"Connecting...","connected"===h&&"Connected - Speak Now","speaking"===h&&"Agent Speaking","listening"===h&&"Listening to You","error"===h&&"Connection Error"]}),s.jsxs("p",{className:"text-xs text-charcoal mt-1",children:["listening"===h&&"Your microphone is active","speaking"===h&&"The agent is speaking"]})]})]})}),s.jsx("div",{className:"border-t-3 border-charcoal bg-off-white p-4 flex gap-3",children:s.jsxs("button",{onClick:()=>{m(),i()},className:"w-full bg-peach text-charcoal px-4 py-3 border-3 border-charcoal shadow-brutal-xs font-black uppercase text-sm hover:-translate-x-[1px] hover:-translate-y-[1px] hover:shadow-brutal-sm transition-all duration-200 flex items-center justify-center gap-2 rounded-sm",children:[s.jsx(c,{className:"w-4 h-4"}),s.jsx("span",{children:"End Call"})]})})]})}):null}export{l as VoiceChat};
//# sourceMappingURL=VoiceChat-Dp3LbFrZ.js.map
